[{"/home/daniel/Projetos/catalogo_jogos_client/src/App.js":"1","/home/daniel/Projetos/catalogo_jogos_client/src/components/Base/index.js":"2","/home/daniel/Projetos/catalogo_jogos_client/src/index.js":"3","/home/daniel/Projetos/catalogo_jogos_client/src/routes.js":"4","/home/daniel/Projetos/catalogo_jogos_client/src/pages/Home/index.js":"5","/home/daniel/Projetos/catalogo_jogos_client/src/pages/New/index.js":"6","/home/daniel/Projetos/catalogo_jogos_client/src/services/api.js":"7","/home/daniel/Projetos/catalogo_jogos_client/src/pages/Edit/index.js":"8"},{"size":166,"mtime":1609623473942,"results":"9","hashOfConfig":"10"},{"size":5371,"mtime":1610157020438,"results":"11","hashOfConfig":"10"},{"size":290,"mtime":1609695164099,"results":"12","hashOfConfig":"10"},{"size":399,"mtime":1610317645345,"results":"13","hashOfConfig":"10"},{"size":2673,"mtime":1610320689597,"results":"14","hashOfConfig":"10"},{"size":4449,"mtime":1610156886082,"results":"15","hashOfConfig":"10"},{"size":120,"mtime":1609622062231,"results":"16","hashOfConfig":"10"},{"size":4706,"mtime":1610319343277,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"tiszbg",{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"26","messages":"27","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"28","messages":"29","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"30"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/home/daniel/Projetos/catalogo_jogos_client/src/App.js",[],"/home/daniel/Projetos/catalogo_jogos_client/src/components/Base/index.js",[],"/home/daniel/Projetos/catalogo_jogos_client/src/index.js",[],"/home/daniel/Projetos/catalogo_jogos_client/src/routes.js",[],"/home/daniel/Projetos/catalogo_jogos_client/src/pages/Home/index.js",["35"],"/home/daniel/Projetos/catalogo_jogos_client/src/pages/New/index.js",["36","37"],"import api from '../../services/api';\nimport { useEffect, useState, useRef, useMemo } from 'react';\nimport { Box, TextField, Paper, Typography, Button, useTheme, useMediaQuery } from '@material-ui/core'\nimport { CameraAlt } from '@material-ui/icons'\nimport { useHistory } from 'react-router-dom';\n\nconst New = () => {\n  const history = useHistory();\n  const [categories, setCategories] = useState([]);\n  const [form, setForm] = useState({\n    name: '',\n    category: '',\n    file: ''\n  })\n  const [drop, setDrop] = useState(false);\n  const theme = useTheme();\n  const matches = useMediaQuery(theme.breakpoints.up('md'))\n\n  const handleChange = (name, event) => {\n    setForm({ ...form, [name]: name == 'file' ? event.target.files[0] : event.target.value })\n  }\n\n  useEffect(() => {\n    (async function loadCategories() {\n      const response = await api.get('/Jogo/Categorias')\n      setCategories(response.data)\n    })()\n  }, [])\n\n  const labelPhoto = useRef(null);\n  const inputPhoto = useRef(null);\n\n  const preview = useMemo(() => {\n    return form.file ? URL.createObjectURL(form.file) : null;\n  }, [form.file])\n\n  useEffect(() => {\n    (function dropzone() {\n      const dropzone = labelPhoto.current;\n\n      dropzone.ondrop = (e) => {\n        e.preventDefault();\n        if (e.dataTransfer.files.length > 1) {\n          alert('Arraste somente 1 arquivo de imagem!')\n          setDrop(false);\n          return false;\n        }\n        inputPhoto.current.files = e.dataTransfer.files\n        setForm({...form, file: e.dataTransfer.files[0]})\n      }\n\n      dropzone.ondragover = () => {\n        setDrop(true);\n        return false;\n      }\n\n      dropzone.ondragleave = () => {\n        setDrop(false);\n        return false; \n      }\n    })()\n  }, [drop])\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n\n    const data = new FormData();\n\n    data.append('Imagem', form.file);\n    data.append('Nome', form.name);\n    data.append('Categoria', form.category)\n\n    await api.post('/Jogo', data)\n\n    history.push('/')\n  }\n\n  return (\n    <Box css={{ display: 'flex', justifyContent: 'center', alignItems: 'center' }}>\n      <form onSubmit={handleSubmit}>\n        <Paper>\n          <Box p={3} css={{ display: 'flex', flexDirection: 'column', width: matches ? '450px' : '350px' }}>\n            <Typography variant=\"h5\" style={{ textAlign: 'center' }}>Cadastro de Jogo</Typography>\n            <TextField id=\"standard-basic\" label=\"Nome do Jogo\" value={form.name} onChange={(event) => handleChange('name', event)} style={{ marginTop: '16px'}} />\n            <TextField\n              id=\"standard-select-currency\"\n              select\n              label=\"Categoria\"\n              value={form.category}\n              onChange={(event) => handleChange('category', event)}\n              style={{ marginTop: '16px' }}\n            >\n              {categories.map((category) => (\n                <option key={category.value} value={category.name} style={{ cursor: 'pointer' }}>\n                  {category.name}\n                </option>\n              ))}\n            </TextField>\n            <label \n            htmlFor=\"photo\" \n            ref={labelPhoto}\n            style={{\n              backgroundImage: `url(${preview})`,\n              border: form.file ? 0 : drop ? '1px dashed black' : '1px dashed #ddd',\n              borderRadius: '4px',\n              height: '200px',\n              cursor: 'pointer',\n              backgroundSize: 'cover',\n              display: 'flex',\n              flexDirection: 'column',\n              justifyContent: 'center',\n              alignItems: 'center',\n              marginBottom: '20px',\n              marginTop: '16px',\n            }}\n            >\n              {!form.file && (\n                <>\n                  <CameraAlt style={{ color: drop ? '#000' : '#ddd' }} /> \n                  <p style={{ color: drop ? '#000' : '#ddd' }}>Selecione ou arraste uma foto</p>\n                </>\n              )}\n            </label>\n            <input \n              type=\"file\" \n              id=\"photo\"\n              style={{ display: 'none'}}\n              onChange={event => handleChange('file', event)} \n              ref={inputPhoto} \n              accept=\"image/*\"\n            />\n            <Button type=\"submit\" variant=\"contained\" color=\"primary\">\n              Cadastrar\n            </Button>\n          </Box>\n        </Paper>\n      </form>\n    </Box>\n  )\n}\n\nexport default New;\n","/home/daniel/Projetos/catalogo_jogos_client/src/services/api.js",[],"/home/daniel/Projetos/catalogo_jogos_client/src/pages/Edit/index.js",[],{"ruleId":"38","severity":1,"message":"39","line":44,"column":19,"nodeType":"40","endLine":44,"endColumn":170},{"ruleId":"41","severity":1,"message":"42","line":20,"column":37,"nodeType":"43","messageId":"44","endLine":20,"endColumn":39},{"ruleId":"45","severity":1,"message":"46","line":62,"column":6,"nodeType":"47","endLine":62,"endColumn":12,"suggestions":"48"},"jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'form'. Either include it or remove the dependency array. You can also do a functional update 'setForm(f => ...)' if you only need 'form' in the 'setForm' call.","ArrayExpression",["49"],{"desc":"50","fix":"51"},"Update the dependencies array to be: [drop, form]",{"range":"52","text":"53"},[1752,1758],"[drop, form]"]